# GoCBT Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Application environment (development, staging, production)
APP_ENV=development

# Server configuration
SERVER_HOST=localhost
SERVER_PORT=8081

# Application name and version
APP_NAME=GoCBT
APP_VERSION=1.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database driver: sqlite or postgres
DB_DRIVER=sqlite

# SQLite configuration (used when DB_DRIVER=sqlite)
DB_FILEPATH=./gocbt.db

# PostgreSQL configuration (used when DB_DRIVER=postgres)
# Uncomment and configure these when using PostgreSQL
# DB_HOST=localhost
# DB_PORT=5432
# DB_USER=gocbt
# DB_PASSWORD=your-secure-password
# DB_NAME=gocbt
# DB_SSLMODE=disable

# Database connection pool settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=5m
DB_CONN_MAX_IDLE_TIME=1m

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT configuration
# IMPORTANT: Change this to a strong, random secret in production!
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_EXPIRATION=24h
JWT_ISSUER=gocbt

# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_SPECIAL=true

# Session configuration
SESSION_TIMEOUT=24h
SESSION_CLEANUP_INTERVAL=1h

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed origins for CORS (comma-separated)
# Use * for development, specific domains for production
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Allowed methods
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Allowed headers
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=1m

# Authentication rate limiting
AUTH_RATE_LIMIT_REQUESTS=5
AUTH_RATE_LIMIT_WINDOW=1m

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, text
LOG_FORMAT=text

# Log output: stdout, stderr, file
LOG_OUTPUT=stdout

# Log file path (when LOG_OUTPUT=file)
LOG_FILE_PATH=./logs/gocbt.log

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# Maximum file upload size (in bytes)
MAX_UPLOAD_SIZE=10485760  # 10MB

# Allowed file types for uploads
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain

# Upload directory
UPLOAD_DIR=./uploads

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================

# Email settings for notifications (if implemented)
# EMAIL_ENABLED=false
# EMAIL_SMTP_HOST=smtp.gmail.com
# EMAIL_SMTP_PORT=587
# EMAIL_SMTP_USERNAME=your-email@gmail.com
# EMAIL_SMTP_PASSWORD=your-app-password
# EMAIL_FROM_ADDRESS=noreply@gocbt.example.com
# EMAIL_FROM_NAME=GoCBT System

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Frontend URL (used for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# API URL for frontend (should match SERVER_HOST:SERVER_PORT)
NEXT_PUBLIC_API_URL=http://localhost:8081/api/v1

# Frontend application settings
NEXT_PUBLIC_APP_NAME=GoCBT
NEXT_PUBLIC_APP_VERSION=1.0.0
NEXT_PUBLIC_APP_DESCRIPTION=Computer-Based Test Application

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Development mode settings
DEV_MODE=true
DEV_CORS_ALLOW_ALL=true
DEV_LOG_SQL=false

# Hot reload settings (for development)
DEV_HOT_RELOAD=true
DEV_WATCH_FILES=true

# =============================================================================
# PRODUCTION CONFIGURATION
# =============================================================================

# Production-specific settings (uncomment for production)
# HTTPS_ENABLED=true
# HTTPS_CERT_FILE=/path/to/cert.pem
# HTTPS_KEY_FILE=/path/to/key.pem

# Security headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# Health check endpoint
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# Metrics collection
METRICS_ENABLED=false
METRICS_PATH=/metrics

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Automatic backup settings
BACKUP_ENABLED=false
BACKUP_INTERVAL=24h
BACKUP_RETENTION_DAYS=30
BACKUP_DIRECTORY=./backups

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================

# Test database configuration
TEST_DB_DRIVER=sqlite
TEST_DB_FILEPATH=./test.db

# Test mode settings
TEST_MODE=false
TEST_SKIP_AUTH=false

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
FEATURE_USER_REGISTRATION=true
FEATURE_PASSWORD_RESET=true
FEATURE_EMAIL_NOTIFICATIONS=false
FEATURE_FILE_UPLOADS=true
FEATURE_ANALYTICS=true

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================

# Cache settings (if implemented)
CACHE_ENABLED=false
CACHE_TYPE=memory  # memory, redis
CACHE_TTL=1h

# Redis configuration (if using Redis cache)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Third-party service configurations
# Add configurations for external services as needed

# Example: File storage service
# STORAGE_TYPE=local  # local, s3, gcs
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=your-bucket-name

# =============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# =============================================================================

# Development overrides
# These settings override the above when APP_ENV=development
# DEV_DB_FILEPATH=./dev.db
# DEV_LOG_LEVEL=debug

# Staging overrides
# These settings override the above when APP_ENV=staging
# STAGING_DB_HOST=staging-db.example.com
# STAGING_LOG_LEVEL=info

# Production overrides
# These settings override the above when APP_ENV=production
# PROD_DB_HOST=prod-db.example.com
# PROD_LOG_LEVEL=warn

# =============================================================================
# NOTES
# =============================================================================

# 1. Always use strong, unique passwords and secrets in production
# 2. Never commit real credentials to version control
# 3. Use environment-specific configuration files for different deployments
# 4. Regularly rotate secrets and passwords
# 5. Monitor logs for security issues
# 6. Keep this file updated when adding new configuration options

# =============================================================================
# QUICK START CONFIGURATIONS
# =============================================================================

# For quick development setup, the default values above should work.
# Just copy this file to .env and start the application.

# For production deployment:
# 1. Change JWT_SECRET to a strong, random value
# 2. Configure database settings for PostgreSQL
# 3. Set appropriate CORS_ORIGINS
# 4. Enable HTTPS and security features
# 5. Configure monitoring and backup settings
